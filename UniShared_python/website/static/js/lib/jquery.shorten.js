{}(function(a){function j(){var b=a(this);var c=document.createElement("canvas");ctx=c.getContext("2d");b.html(c);ctx.font=b.css("font-style")+" "+b.css("font-variant")+" "+b.css("font-weight")+" "+Math.ceil(parseFloat(b.css("font-size")))+"px "+b.css("font-family");return ctx}function k(a,b){return b.measureText(a).width}function l(){var b="padding:0; margin:0; border:none; font:inherit;";var c=a('<table style="'+b+'width:auto;zoom:1;position:absolute;"><tr style="'+b+'"><td style="'+b+'white-space:nowrap;"></td></tr></table>');$td=a("td",c);a(this).html(c);return $td}function m(a,b){b.text(a);return b.width()}var b=false,c,d,e,f="shorten-info",g="shorten-options";a.fn.shorten=function(){var b={},h=arguments,i=h.callee;if(h.length){if(h[0].constructor==Object){b=h[0]}else if(h[0]=="options"){return a(this).eq(0).data(g)}else{b={width:parseInt(h[0]),tail:h[1]}}}this.css("visibility","hidden");var n=a.extend({},i.defaults,b);return this.each(function(){var h=a(this),o=h.text(),p=o.length,q,r=a("<span/>").html(n.tail).text(),s,t={shortened:false,textOverflow:false};if(h.css("float")!="none"){q=n.width||h.width()}else{q=n.width||h.parent().width()}if(q<0){return true}h.data(g,n);if(!this.style.display=="block"||!this.style.display=="inline-block"){this.style.display="block"}this.style.whiteSpace="nowrap";if(c){d=j.call(this);e=k}else{d=l.call(this);e=m}var u=e.call(this,o,d);if(u<q){h.text(o);this.style.visibility="visible";h.data(f,t);return true}if(n.tooltip){this.setAttribute("title",o);h.tooltip({showURL:false})}if(i._native&&!b.width){var v=a("<span>"+n.tail+"</span>").text();if(v.length==1&&v.charCodeAt(0)==8230){h.text(o);this.style.overflow="hidden";this.style[i._native]="ellipsis";this.style.visibility="visible";t.shortened=true;t.textOverflow="ellipsis";h.data(f,t);return true}}s=e.call(this,r,d);q=q-s;var w=q*1.15;if(u-w>0){var x=w/u,y=Math.ceil(p*x),z=o.substring(0,y),A=e.call(this,z,d);if(A>q){o=z;p=o.length}}do{p--;o=o.substring(0,p)}while(e.call(this,o,d)>=q);h.html(a.trim(a("<span/>").text(o).html())+n.tail);this.style.visibility="visible";t.shortened=true;h.data(f,t);return true});return true};var h=document.documentElement.style;if("textOverflow"in h){b="textOverflow"}else if("OTextOverflow"in h){b="OTextOverflow"}if(typeof Modernizr!="undefined"&&Modernizr.canvastext){c=Modernizr.canvastext}else{var i=document.createElement("canvas");c=!!(i.getContext&&i.getContext("2d")&&typeof i.getContext("2d").fillText==="function")}a.fn.shorten._is_canvasTextSupported=c;a.fn.shorten._native=b;a.fn.shorten.defaults={tail:"â€¦",tooltip:true}})(jQuery);